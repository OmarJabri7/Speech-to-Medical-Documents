cmake_minimum_required(VERSION 3.0)

set(CMAKE_CXX_STANDARD 17)


project(pyimg)

include_directories("../include")
include_directories("../src")
include_directories("../python")

# file (GLOB SOURCE_FILES "src/img_libs.cpp")
# file (GLOB HEADER_FILES "include/img_libs.hpp")
set(SOURCE_FILES "../src/img_libs.cpp")
set(HEADER_FILES "../include/img_libs.hpp")
set(PYTHON_FILES "../python/pyimg.cpp")

# Set up such that XCode organizes the files
# source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} PREFIX "src" FILES ${SOURCE_FILES} ${HEADER_FILES} ${PYTHON_FILES})


find_package(pybind11 REQUIRED)
pybind11_add_module(pyimg 
	${SOURCE_FILES}
	${HEADER_FILES}
	${PYTHON_FILES}
)

# target_link_libraries(img_libs PUBLIC)

install(TARGETS pyimg
  COMPONENT python
  LIBRARY DESTINATION "${PYTHON_LIBRARY_DIR}"
  )